{{template "layout" .}}

{{define "content"}}
<div class="project-form-page">
    <header class="page-header">
        <h1>{{if .Edit}}Edit{{else}}New{{end}} Project</h1>
        <a href="{{if .Edit}}/projects/{{.Project.ID}}{{else}}/{{end}}" class="btn btn-secondary">Cancel</a>
    </header>

    {{if .Error}}
    <div class="alert alert-error">
        <span class="alert-icon">{{template "icon-alert"}}</span>
        {{.Error}}
    </div>
    {{end}}

    <form method="POST" class="project-form card">
        <div class="form-group">
            <label for="name">Project Name</label>
            <input type="text" id="name" name="name" value="{{.Project.Name}}" required
                placeholder="My Full-Stack App">
        </div>

        <div class="form-group">
            <label for="domain">Domain (optional)</label>
            <input type="text" id="domain" name="domain" value="{{.Project.Domain}}"
                placeholder="myapp.com">
            <small>The domain for Nginx reverse proxy. Leave empty if not using Nginx.</small>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="3"
                placeholder="A collection of services for my e-commerce application">{{.Project.Description}}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                {{if .Edit}}Update{{else}}Create{{end}} Project
            </button>
        </div>
    </form>
</div>
{{end}}